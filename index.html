<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ø­Ù„ØªÙŠ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #006633;
            --primary-dark: #004422;
            --secondary-color: #fdd835;
            --light-bg: #e6f3ee;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --info-color: #17a2b8;
            --font-family: 'Cairo', sans-serif;
            --text-dark: #333;
            --text-light: #555;
            --white-color: #fff;
            --border-radius-main: 15px;
        }

        body {
            font-family: var(--font-family);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: var(--text-dark);
            padding: 10px;
            box-sizing: border-box;
            background-image: url('Ferst.webp');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(240, 244, 248, 0.85);
            z-index: -1;
        }

        .game-container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        #landing-screen {
            background-color: transparent;
            padding: 30px 40px;
            border-radius: 0;
            box-shadow: none;
            text-align: center;
            animation: fadeInUp 0.6s ease-out;
            width: 100%;
        }

        .logo {
            max-width: 150px;
            margin-bottom: 20px;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 32px;
            line-height: 1.4;
            font-weight: 700;
        }

        .subtitle {
            font-size: 18px;
            color: var(--text-light);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .features-grid {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            background-color: var(--white-color);
            padding: 25px;
            border-radius: var(--border-radius-main);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: calc(33.33% - 20px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .feature-card .icon {
            font-size: 48px;
            color: var(--primary-color);
            display: block;
            margin-bottom: 15px;
        }

        .feature-card h3 {
            color: var(--primary-color);
            font-size: 20px;
            margin-bottom: 10px;
        }

        .feature-card p {
            font-size: 14px;
            color: #777;
            line-height: 1.5;
            margin: 0;
        }
        
        .reset-link-container {
            margin-top: 20px;
            font-size: 14px;
        }
        .reset-link-container a {
            color: var(--text-light);
            text-decoration: none;
        }
        .reset-link-container a:hover {
            text-decoration: underline;
            color: var(--primary-color);
        }

        #start-screen {
            background-color: var(--white-color);
            padding: 30px 40px;
            border-radius: var(--border-radius-main);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            animation: fadeInUp 0.6s ease-out;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: right;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--primary-dark);
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 16px;
            font-family: var(--font-family);
        }

        .action-button {
            width: 100%;
            max-width: 350px;
            padding: 15px;
            border: none;
            border-radius: 30px;
            background-color: var(--primary-color);
            color: var(--white-color);
            font-size: 18px;
            font-weight: bold;
            font-family: var(--font-family);
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 0 auto;
        }

        .action-button:hover {
            background-color: var(--primary-dark);
            transform: scale(1.02);
        }

        .action-button:disabled {
            background-color: var(--text-light);
            cursor: not-allowed;
        }
        
        .btn-icon {
            transform: scaleX(-1);
        }

        .hidden {
            display: none !important;
        }

        #player-stats {
            position: fixed;
            top: 15px;
            left: 15px;
            background-color: rgba(0, 68, 34, 0.9);
            color: var(--white-color);
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            z-index: 50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            display: flex;
            gap: 10px;
            align-items: center;
        }

        #player-score {
            background-color: var(--secondary-color);
            color: var(--text-dark);
            padding: 5px 10px;
            border-radius: 5px;
        }
        
        #logout-btn, #back-to-map-btn {
            background-color: rgba(255, 255, 255, 0.15);
            color: #fff;
            text-decoration: none;
            padding: 4px 10px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: normal;
            transition: background-color 0.3s;
            border: 1px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        #logout-btn:hover {
            background-color: var(--incorrect-color);
            border-color: var(--incorrect-color);
        }
        #back-to-map-btn:hover {
            background-color: var(--info-color);
            border-color: var(--info-color);
        }

        .game-stage {
            background-color: var(--white-color);
            padding: 0;
            border-radius: var(--border-radius-main);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out;
        }

        .scene-image {
            width: 100%;
            height: auto;
            display: block;
        }

        .scene-content {
            padding: 25px;
        }

        .scene-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 20px;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 25px;
        }

        .option-btn {
            position: relative;
            padding: 15px 10px;
            border: 2px solid var(--primary-color);
            background-color: var(--white-color);
            color: var(--primary-color);
            font-size: 16px;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            height: 100%;
            opacity: 0;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .option-btn:hover {
            background-color: var(--light-bg);
            transform: translateY(-2px);
        }

        .option-btn.correct {
            background-color: var(--correct-color);
            color: var(--white-color);
            border-color: var(--correct-color);
        }
        .option-btn.correct:hover {
            background-color: var(--correct-color);
        }
        .option-btn.incorrect {
            background-color: var(--incorrect-color);
            color: var(--white-color);
            border-color: var(--incorrect-color);
        }
        .option-btn.incorrect:hover {
            background-color: var(--incorrect-color);
        }
        
        .option-btn.correct::before, .option-btn.incorrect::before {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 24px;
        }

        .option-btn.correct::before { content: 'âœ“'; }
        .option-btn.incorrect::before { content: 'âœ—'; }

        .feedback-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            color: var(--white-color);
            display: none;
        }

        .feedback-message.correct { background-color: var(--correct-color); }
        .feedback-message.incorrect { background-color: var(--incorrect-color); }
        .feedback-message.info { background-color: var(--info-color); }

        .modal {
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            justify-content: center;
            align-items: center;
            direction: rtl;
        }

        .modal-content {
            background-color: var(--white-color);
            padding: 30px;
            border-radius: var(--border-radius-main);
            text-align: center;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
            animation: slide-down 0.4s ease-out;
        }

        @keyframes slide-down {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translate3d(0, 30px, 0); }
            to { opacity: 1; transform: translate3d(0, 0, 0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content h2 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        .modal-content p {
            color: var(--text-light);
            font-size: 16px;
        }
        
        #map-scene .options-container .option-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-size: 18px;
            padding: 25px 15px;
        }

        .map-icon {
            font-size: 36px;
            margin-bottom: 5px;
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-bar-container {
            width: 90%;
            background-color: #e0e0e0;
            border-radius: 10px; /* Ø­ÙˆØ§Ù Ø¯Ø§Ø¦Ø±ÙŠØ© */
            overflow: hidden;
            height: 18px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ */
            margin: 10px auto 20px;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1); /* Ø¸Ù„ Ø¯Ø§Ø®Ù„ÙŠ */
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            width: 0;
            background-color: var(--primary-color);
            transition: width 0.5s ease;
            border-radius: 10px;
            position: relative;
        }

        .progress-text {
            position: absolute;
            width: 100%;
            text-align: center;
            color: var(--white-color);
            font-size: 12px;
            font-weight: bold;
            top: 50%;
            transform: translateY(-50%);
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
            z-index: 2;
        }


        #faculties-scene .options-container,
        #exchange-scene .options-container,
        #admission-scene .options-container {
            grid-template-columns: 1fr;
            max-width: 400px;
            margin: 25px auto 0;
        }

        #faculties-scene .option-btn,
        #exchange-scene .option-btn,
        #admission-scene .option-btn {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            padding: 20px;
            gap: 20px;
            font-size: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        #faculties-scene .option-btn:hover,
        #exchange-scene .option-btn:hover,
        #admission-scene .option-btn:hover {
            transform: scale(1.03);
            background-color: var(--primary-color);
            color: var(--white-color);
        }

        #faculties-scene .option-btn span,
        #exchange-scene .option-btn span,
        #admission-scene .option-btn span {
            font-size: 30px;
        }

        #grants-info-scene .scene-content,
        #faculties-info-scene .scene-content {
            padding: 0;
        }

        .info-header {
            padding: 25px 25px 20px 25px;
            border-bottom: 1px solid #eee;
        }
        
        .info-scene-container {
            max-height: 60vh;
            overflow-y: auto;
            padding: 20px 25px;
            text-align: right;
        }
        
        .grant-category,
        .exchange-category {
            font-size: 22px;
            font-weight: bold;
            color: var(--primary-dark);
            margin-top: 20px;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid var(--primary-color);
        }
        .grant-category:first-child,
        .exchange-category:first-child {
            margin-top: 0;
        }
        /* Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ */
        .grant-card,
        .exchange-card {
            background-color: #f9f9f9;
            border-right: 5px solid var(--primary-color);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease, border-right-color 0.3s ease;
        }
        .grant-card:hover,
        .exchange-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
            border-right-color: var(--secondary-color);
        }
        /* Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ */
        .grant-card h3,
        .exchange-card h3 {
            margin: 0 0 10px 0;
            font-size: 18px;
            color: var(--primary-dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .grant-percentage,
        .exchange-project {
            background-color: var(--secondary-color);
            color: var(--text-dark);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 16px;
            font-weight: bold;
        }

        .grant-details ul,
        .exchange-details ul {
            list-style: none;
            padding-right: 0;
            margin: 0;
            font-size: 14px;
            color: var(--text-light);
        }

        .grant-details li,
        .exchange-details li {
            padding-right: 25px;
            position: relative;
            margin-bottom: 8px;
        }
        .grant-details li::before,
        .exchange-details li::before {
            content: 'ğŸ”¹';
            position: absolute;
            right: 0;
            top: 0;
            color: var(--primary-color);
        }

        .info-footer {
            padding: 20px 25px;
            border-top: 1px solid #eee;
        }
        
        #faculties-info-scene .info-scene-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            text-align: center;
        }

        .college-card {
            background-color: #f9f9f9;
            border-top: 5px solid var(--primary-color);
            border-radius: var(--border-radius-main);
            padding: 25px 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .college-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
        }

        .college-icon {
            font-size: 48px;
            margin-bottom: 15px;
            color: var(--primary-dark);
        }
        
        .college-card h3 {
            margin: 0 0 10px 0;
            font-size: 20px;
            color: var(--primary-color);
        }

        .college-card p {
            font-size: 15px;
            color: var(--text-light);
            line-height: 1.6;
            margin: 0;
        }
        
        #faculties-list-scene .info-scene-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            text-align: right;
        }

        .college-info-card {
            background-color: #f9f9f9;
            border-right: 5px solid var(--primary-color);
            border-radius: var(--border-radius-main);
            padding: 25px 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .college-info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
            border-right-color: var(--secondary-color);
        }

        .college-info-card h3 {
            margin: 0 0 10px 0;
            font-size: 20px;
            color: var(--primary-dark);
        }

        .college-info-card p {
            font-size: 15px;
            color: var(--text-light);
            line-height: 1.6;
            margin: 0;
        }

        #college-website-scene .scene-content {
            padding: 20px;
            height: 85vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .website-view-header {
            margin-bottom: 15px;
            display: flex;
            justify-content: flex-end;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div id="landing-screen" class="screen">
            <img src="https://i.ibb.co/6P6Xg4j/Logo.webp" alt="Ø±Ø­Ù„ØªÙŠ ÙÙŠ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©" class="logo">
            <h1>Ø±Ø­Ù„ØªÙƒ ÙÙŠ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</h1>
            <p class="subtitle">Ø§Ø³ØªÙƒØ´Ù Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ù„Ø¹Ø¨Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ù„Ù…ØºØ§Ù…Ø±Ø§ØªØŒ ØªØ¹Ø±Ù‘Ù Ø¹Ù„Ù‰ ÙƒÙ„ÙŠØ§ØªÙ‡Ø§ØŒ Ø¨Ø±Ø§Ù…Ø¬Ù‡Ø§ØŒ ÙˆÙ…Ù†Ø­Ù‡Ø§ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©!</p>
            <div class="features-grid">
                <div class="feature-card">
                    <span class="icon">ğŸ›ï¸</span>
                    <h3>Ø§Ø³ØªÙƒØ´Ù Ø§Ù„ÙƒÙ„ÙŠØ§Øª</h3>
                    <p>Ø§ÙƒØªØ´Ù ØªØ®ØµØµØ§Øª Ù…Ø®ØªÙ„ÙØ© ÙˆØ§Ø®ØªØ± Ø§Ù„Ø£Ù†Ø³Ø¨ Ù„Ùƒ.</p>
                </div>
                <div class="feature-card">
                    <span class="icon">ğŸ“</span>
                    <h3>ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­</h3>
                    <p>ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†Ø­ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© ÙˆØ§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…ØªØ§Ø­Ø©.</p>
                </div>
                <div class="feature-card">
                    <span class="icon">ğŸ¤”</span>
                    <h3>Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ</h3>
                    <p>Ø£Ø¬Ø¨ Ø¹Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§Ø¬Ù…Ø¹ Ø§Ù„Ù†Ù‚Ø§Ø·.</p>
                </div>
            </div>
            <button class="action-button" onclick="showStartScreen()">
                Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ
                <span class="btn-icon">ğŸš€</span>
            </button>
            <div class="reset-link-container">
                <a href="#" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©</a>
            </div>
        </div>

        <div id="start-screen" class="screen hidden">
            <h2>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ù„ØªØ¨Ø¯Ø£</h2>
            <div class="form-group">
                <label for="playerName">Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨:</label>
                <input type="text" id="playerName" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." autocomplete="off">
            </div>
            <button id="startButton" class="action-button" disabled>
                Ù‡ÙŠØ§ Ø¨Ù†Ø§
                <span class="btn-icon">â¡ï¸</span>
            </button>
        </div>

        <div id="main-game" class="screen hidden">
            <div id="player-stats">
                <span id="player-name-display"></span>
                <span>Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="player-score">0</span></span>
                <a href="#" id="logout-btn" onclick="logout()">Ø®Ø±ÙˆØ¬</a>
            </div>
            
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
                <div class="progress-text" id="progressText"></div>
            </div>

            <div id="game-stages">
                <div id="map-scene" class="game-stage">
                    <img src="https://i.ibb.co/3Wf0z6W/Map.webp" alt="Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©" class="scene-image">
                    <div class="scene-content">
                        <h2 class="scene-title">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©!</h2>
                        <p>Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ù† Ù‡Ù†Ø§. Ø§Ø®ØªØ± ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„ØªØ§Ù„ÙŠØ©.</p>
                        <div class="options-container">
                            <button class="option-btn" onclick="nextScene('grants-scene')">
                                <span class="map-icon">ğŸ’°</span>
                                Ø§Ù„Ù…Ù†Ø­ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
                            </button>
                            <button class="option-btn" onclick="nextScene('exchange-scene')">
                                <span class="map-icon">âœˆï¸</span>
                                Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¨Ø§Ø¯Ù„
                            </button>
                            <button class="option-btn" onclick="nextScene('faculties-scene')">
                                <span class="map-icon">ğŸ“š</span>
                                Ø§Ù„ÙƒÙ„ÙŠØ§Øª
                            </button>
                            <button class="option-btn" onclick="nextScene('admission-scene')">
                                <span class="map-icon">ğŸ“</span>
                                Ø´Ø±ÙˆØ· Ø§Ù„Ù‚Ø¨ÙˆÙ„
                            </button>
                        </div>
                    </div>
                </div>

                <div id="faculties-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/Qk45z6H/Faculties.webp" alt="ØµÙˆØ±Ø© Ø§Ù„ÙƒÙ„ÙŠØ§Øª" class="scene-image">
                    <div class="scene-content">
                        <h2 class="scene-title">Ø§Ø³ØªÙƒØ´Ø§Ù Ø§Ù„ÙƒÙ„ÙŠØ§Øª</h2>
                        <p>Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙŠ ØªØ«ÙŠØ± Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ Ù„ØªØ¹Ø±Ù Ø¹Ù†Ù‡Ø§ Ø§Ù„Ù…Ø²ÙŠØ¯.</p>
                        <div class="options-container">
                            <button class="option-btn" onclick="showFacultyInfo('Ø§Ù„Ø´Ø±ÙŠØ¹Ø© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ†')">
                                <span>âš–ï¸</span>
                                ÙƒÙ„ÙŠØ© Ø§Ù„Ø´Ø±ÙŠØ¹Ø© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ†
                            </button>
                            <button class="option-btn" onclick="showFacultyInfo('Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©')">
                                <span>âš™ï¸</span>
                                ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©
                            </button>
                            <button class="option-btn" onclick="showFacultyInfo('Ø§Ù„Ø·Ø¨')">
                                <span>âš•ï¸</span>
                                ÙƒÙ„ÙŠØ© Ø§Ù„Ø·Ø¨
                            </button>
                            <button class="option-btn" onclick="showFacultyInfo('Ø§Ù„Ø¢Ø¯Ø§Ø¨')">
                                <span>ğŸ“–</span>
                                ÙƒÙ„ÙŠØ© Ø§Ù„Ø¢Ø¯Ø§Ø¨
                            </button>
                            <button class="option-btn" onclick="showFacultyInfo('Ø§Ù„ØªØ¬Ø§Ø±Ø©')">
                                <span>ğŸ“ˆ</span>
                                ÙƒÙ„ÙŠØ© Ø§Ù„ØªØ¬Ø§Ø±Ø©
                            </button>
                        </div>
                        <div class="feedback-message" id="faculties-feedback"></div>
                        <button id="back-to-map-btn" class="action-button hidden" onclick="nextScene('map-scene')">
                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ø±ÙŠØ·Ø©
                        </button>
                    </div>
                </div>

                <div id="faculties-info-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/3yC2T4b/Faculty-info.webp" alt="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙƒÙ„ÙŠØ©" class="scene-image">
                    <div class="scene-content">
                        <div class="info-header">
                            <h2 class="scene-title" id="faculty-info-title"></h2>
                            <p id="faculty-info-desc"></p>
                        </div>
                        <div class="info-scene-container" id="faculty-majors-container">
                            </div>
                        <div class="info-footer">
                            <button class="action-button" onclick="nextScene('faculties-scene')">
                                Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙƒÙ„ÙŠØ§Øª
                                <span class="btn-icon">â¬…ï¸</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div id="grants-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/GvxBqgK/Grants.webp" alt="ØµÙˆØ±Ø© Ù„Ù„Ù…Ù†Ø­" class="scene-image">
                    <div class="scene-content">
                        <h2 class="scene-title">Ø§Ù„Ù…Ù†Ø­ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</h2>
                        <p>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø­Ø© Ø§Ù„ØªÙŠ ØªØ±ØºØ¨ Ø¨Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„ÙŠÙ‡Ø§.</p>
                        <div class="options-container">
                            <button class="option-btn" onclick="showGrantInfo('Ù…Ù†Ø­Ø© Ø§Ù„ØªÙÙˆÙ‚ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ')">
                                <span>ğŸ†</span>
                                Ù…Ù†Ø­Ø© Ø§Ù„ØªÙÙˆÙ‚ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ
                            </button>
                            <button class="option-btn" onclick="showGrantInfo('Ù…Ù†Ø­Ø© Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…ØªØ¹ÙÙØ©')">
                                <span>â¤ï¸</span>
                                Ù…Ù†Ø­Ø© Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…ØªØ¹ÙÙØ©
                            </button>
                            <button class="option-btn" onclick="showGrantInfo('Ù…Ù†Ø­Ø© Ø£Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø¯Ø§Ø¡')">
                                <span>ğŸ‡µğŸ‡¸</span>
                                Ù…Ù†Ø­Ø© Ø£Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø¯Ø§Ø¡
                            </button>
                        </div>
                        <div class="feedback-message" id="grants-feedback"></div>
                        <button id="back-to-map-btn" class="action-button hidden" onclick="nextScene('map-scene')">
                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ø±ÙŠØ·Ø©
                        </button>
                    </div>
                </div>

                <div id="grants-info-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/q5kYgRz/Grants-info.webp" alt="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ù…Ù†Ø­" class="scene-image">
                    <div class="scene-content">
                        <div class="info-header">
                            <h2 class="scene-title" id="grant-info-title"></h2>
                            <p id="grant-info-desc"></p>
                        </div>
                        <div class="info-scene-container" id="grant-details-container">
                            </div>
                        <div class="info-footer">
                            <button class="action-button" onclick="nextScene('grants-scene')">
                                Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ù†Ø­
                                <span class="btn-icon">â¬…ï¸</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div id="exchange-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/v4cW37p/Exchange.webp" alt="ØµÙˆØ±Ø© Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¨Ø§Ø¯Ù„" class="scene-image">
                    <div class="scene-content">
                        <h2 class="scene-title">Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¨Ø§Ø¯Ù„ Ø§Ù„Ø·Ù„Ø§Ø¨ÙŠ</h2>
                        <p>ØªÙÙ‚Ø¯Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø¨Ø±Ø§Ù…Ø¬ ØªØ¨Ø§Ø¯Ù„ Ù…Ø¹ Ø¹Ø¯Ø© Ø¬Ø§Ù…Ø¹Ø§Øª Ø¯ÙˆÙ„ÙŠØ©. Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ù„ØªØ¹Ø±Ù Ø¹Ù†Ù‡ Ø§Ù„Ù…Ø²ÙŠØ¯.</p>
                        <div class="options-container">
                            <button class="option-btn" onclick="showExchangeInfo('Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ²ÙŠØ©')">
                                <span>ğŸ‡²ğŸ‡¾</span>
                                Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¨Ø§Ø¯Ù„ Ù…Ø¹ Ù…Ø§Ù„ÙŠØ²ÙŠØ§
                            </button>
                            <button class="option-btn" onclick="showExchangeInfo('Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØ©')">
                                <span>ğŸ‡ªğŸ‡º</span>
                                Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¨Ø§Ø¯Ù„ Ù…Ø¹ Ø£ÙˆØ±ÙˆØ¨Ø§
                            </button>
                        </div>
                        <div class="feedback-message" id="exchange-feedback"></div>
                        <button id="back-to-map-btn" class="action-button hidden" onclick="nextScene('map-scene')">
                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ø±ÙŠØ·Ø©
                        </button>
                    </div>
                </div>

                <div id="exchange-info-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/L51R8gD/Exchange-info.webp" alt="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ØªØ¨Ø§Ø¯Ù„" class="scene-image">
                    <div class="scene-content">
                        <div class="info-header">
                            <h2 class="scene-title" id="exchange-info-title"></h2>
                            <p id="exchange-info-desc"></p>
                        </div>
                        <div class="info-scene-container" id="exchange-details-container">
                            </div>
                        <div class="info-footer">
                            <button class="action-button" onclick="nextScene('exchange-scene')">
                                Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ¨Ø§Ø¯Ù„
                                <span class="btn-icon">â¬…ï¸</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div id="admission-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/k2c5g97/Admission.webp" alt="Ø´Ø±ÙˆØ· Ø§Ù„Ù‚Ø¨ÙˆÙ„" class="scene-image">
                    <div class="scene-content">
                        <h2 class="scene-title">Ø´Ø±ÙˆØ· Ø§Ù„Ù‚Ø¨ÙˆÙ„</h2>
                        <p>Ø£Ø¬Ø¨ Ø¹Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ù…Ø¹Ø±ÙØ© Ù…Ø¯Ù‰ Ø§Ø³ØªØ¹Ø¯Ø§Ø¯Ùƒ Ù„Ù„ØªÙ‚Ø¯ÙŠÙ…:</p>
                        <div id="quiz-container">
                            </div>
                        <div class="feedback-message" id="admission-feedback"></div>
                        <button id="back-to-map-btn" class="action-button hidden" onclick="nextScene('map-scene')">
                            Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ø±ÙŠØ·Ø©
                        </button>
                    </div>
                </div>

                <div id="end-scene" class="game-stage hidden">
                    <img src="https://i.ibb.co/Bq9p6Vz/End.webp" alt="ØµÙˆØ±Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ©" class="scene-image">
                    <div class="scene-content">
                        <h2 class="scene-title">ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£Ù†Ù‡ÙŠØª Ø±Ø­Ù„ØªÙƒ.</h2>
                        <p id="final-score-message">
                            ÙŠØ§ <span id="final-player-name"></span>ØŒ Ù„Ù‚Ø¯ Ø¬Ù…Ø¹Øª <span id="final-player-score">0</span> Ù†Ù‚Ø·Ø©.
                        </p>
                        <p>Ø´ÙƒØ±Ø§Ù‹ Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ Ø¨Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©. Ù†ØªÙ…Ù†Ù‰ Ù„Ùƒ Ø§Ù„ØªÙˆÙÙŠÙ‚ ÙÙŠ Ø±Ø­Ù„ØªÙƒ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©!</p>
                        <button class="action-button" onclick="resetGame()">Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="feedback-modal" class="modal hidden">
            <div class="modal-content" id="modal-content">
                <h2 id="modal-title"></h2>
                <p id="modal-text"></p>
                <button class="action-button" onclick="closeModal()">Ù…ÙˆØ§ÙÙ‚</button>
            </div>
        </div>
    </div>
    
    <audio id="click-sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="auto"></audio>
    <audio id="correct-sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" preload="auto"></audio>
    <audio id="incorrect-sound" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3" preload="auto"></audio>

    <script>
        // Ù…Ù„ÙØ§Øª Ø§Ù„ØµÙˆØª
        const clickSound = document.getElementById('click-sound');
        const correctSound = document.getElementById('correct-sound');
        const incorrectSound = document.getElementById('incorrect-sound');

        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        const gameData = {
            playerName: '',
            playerScore: 0,
            progress: 0,
            currentQuizQuestion: 0,
        };

        const scenes = {
            'landing-screen': document.getElementById('landing-screen'),
            'start-screen': document.getElementById('start-screen'),
            'main-game': document.getElementById('main-game'),
            'map-scene': document.getElementById('map-scene'),
            'faculties-scene': document.getElementById('faculties-scene'),
            'faculties-info-scene': document.getElementById('faculties-info-scene'),
            'grants-scene': document.getElementById('grants-scene'),
            'grants-info-scene': document.getElementById('grants-info-scene'),
            'exchange-scene': document.getElementById('exchange-scene'),
            'exchange-info-scene': document.getElementById('exchange-info-scene'),
            'admission-scene': document.getElementById('admission-scene'),
            'end-scene': document.getElementById('end-scene')
        };

        const quizQuestions = [
            {
                question: 'Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ø¨ØªÙ‚Ø¯ÙŠØ± Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ØŸ',
                options: ['Ù†Ø¹Ù…', 'Ù„Ø§'],
                correctAnswer: 'Ù†Ø¹Ù…',
                points: 20
            },
            {
                question: 'Ù‡Ù„ Ø§Ø¬ØªØ²Øª Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©ØŸ',
                options: ['Ù†Ø¹Ù…', 'Ù„Ø§'],
                correctAnswer: 'Ù†Ø¹Ù…',
                points: 20
            },
            {
                question: 'Ù‡Ù„ ØªØ³Ø¹Ù‰ Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©ØŸ',
                options: ['Ù†Ø¹Ù…', 'Ù„Ø§'],
                correctAnswer: 'Ù†Ø¹Ù…',
                points: 10
            }
        ];

        // Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        const playerNameInput = document.getElementById('playerName');
        const startButton = document.getElementById('startButton');
        const playerNameDisplay = document.getElementById('player-name-display');
        const playerScoreDisplay = document.getElementById('player-score');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const quizContainer = document.getElementById('quiz-container');
        const feedbackModal = document.getElementById('feedback-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalText = document.getElementById('modal-text');
        
        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        const facultyData = {
            'Ø§Ù„Ø´Ø±ÙŠØ¹Ø© ÙˆØ§Ù„Ù‚Ø§Ù†ÙˆÙ†': {
                description: 'ØªÙ‡Ø¯Ù Ø§Ù„ÙƒÙ„ÙŠØ© Ø¥Ù„Ù‰ Ø¥Ø¹Ø¯Ø§Ø¯ Ø¬ÙŠÙ„ ÙˆØ§Ø¹Ù Ø¨Ø§Ù„Ø´Ø±ÙŠØ¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©ØŒ ÙˆÙ…Ø¤Ù‡Ù„ Ù„Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø§Ù„Ù…Ø¹Ø§ØµØ±Ø©.',
                majors: [
                    { name: 'Ø§Ù„ÙÙ‚Ù‡ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†', icon: 'âš–ï¸' },
                    { name: 'Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø®Ø§Øµ', icon: 'ğŸ“œ' },
                    { name: 'Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¹Ø§Ù…', icon: 'ğŸ›ï¸' },
                    { name: 'Ø£ØµÙˆÙ„ Ø§Ù„Ø¯ÙŠÙ†', icon: 'ğŸ•Œ' }
                ]
            },
            'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©': {
                description: 'ØªÙ‚Ø¯Ù… Ø§Ù„ÙƒÙ„ÙŠØ© Ø¨Ø±Ø§Ù…Ø¬ Ù‡Ù†Ø¯Ø³ÙŠØ© Ø­Ø¯ÙŠØ«Ø© ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¸Ø±ÙŠØ© ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ØªÙ„Ø¨ÙŠØ© Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„.',
                majors: [
                    { name: 'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©', icon: 'ğŸ—ï¸' },
                    { name: 'Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¹Ù…Ø§Ø±Ø©', icon: 'ğŸ“' },
                    { name: 'Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡', icon: 'ğŸ’¡' },
                    { name: 'Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø§ØªØµØ§Ù„Ø§Øª', icon: 'ğŸ“¡' },
                    { name: 'Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø­Ø§Ø³ÙˆØ¨', icon: 'ğŸ’»' }
                ]
            },
            'Ø§Ù„Ø·Ø¨': {
                description: 'ØªØ¹ØªØ¨Ø± ÙƒÙ„ÙŠØ© Ø§Ù„Ø·Ø¨ Ù…Ù† Ø§Ù„ÙƒÙ„ÙŠØ§Øª Ø§Ù„Ø±Ø§Ø¦Ø¯Ø© ÙÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø·Ø¨ÙŠØŒ ÙˆØªØ³Ø§Ù‡Ù… ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø£Ø·Ø¨Ø§Ø¡ Ø£ÙƒÙØ§Ø¡.',
                majors: [
                    { name: 'Ø§Ù„Ø·Ø¨ Ø§Ù„Ø¨Ø´Ø±ÙŠ', icon: 'ğŸ©º' },
                    { name: 'Ø·Ø¨ Ø§Ù„Ø£Ø³Ù†Ø§Ù†', icon: 'ğŸ¦·' },
                    { name: 'Ø§Ù„ØµÙŠØ¯Ù„Ø©', icon: 'ğŸ’Š' },
                    { name: 'Ø§Ù„ØªÙ…Ø±ÙŠØ¶', icon: 'ğŸ©¹' }
                ]
            },
            'Ø§Ù„Ø¢Ø¯Ø§Ø¨': {
                description: 'ØªÙˆÙØ± Ø§Ù„ÙƒÙ„ÙŠØ© Ø¨ÙŠØ¦Ø© Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© Ù…Ù…ØªØ§Ø²Ø© Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ Ø§Ù„ÙÙƒØ±ÙŠ ÙˆØ§Ù„Ø£Ø¯Ø¨ÙŠ.',
                majors: [
                    { name: 'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', icon: 'ğŸ“' },
                    { name: 'Ø§Ù„ØªØ§Ø±ÙŠØ®', icon: 'ğŸ•°ï¸' },
                    { name: 'Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§', icon: 'ğŸ—ºï¸' },
                    { name: 'Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³', icon: 'ğŸ§ ' }
                ]
            },
            'Ø§Ù„ØªØ¬Ø§Ø±Ø©': {
                description: 'ØªÙ‡Ø¯Ù Ø§Ù„ÙƒÙ„ÙŠØ© Ø¥Ù„Ù‰ ØªØ²ÙˆÙŠØ¯ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø¨Ø§Ù„Ù…Ø¹Ø±ÙØ© ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ù„Ø§Ø²Ù…Ø© Ù„Ù„Ø¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù‚Ø·Ø§Ø¹ÙŠÙ† Ø§Ù„Ø§Ù‚ØªØµØ§Ø¯ÙŠ ÙˆØ§Ù„ØªØ¬Ø§Ø±ÙŠ.',
                majors: [
                    { name: 'Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', icon: 'ğŸ’°' },
                    { name: 'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„', icon: 'ğŸ“Š' },
                    { name: 'Ø§Ù„ØªØ³ÙˆÙŠÙ‚', icon: 'ğŸ“ˆ' },
                    { name: 'Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ù…Ø§Ù„ÙŠØ©', icon: 'ğŸ’µ' }
                ]
            }
        };

        const grantData = {
            'Ù…Ù†Ø­Ø© Ø§Ù„ØªÙÙˆÙ‚ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ': {
                description: 'Ù…Ø®ØµØµØ© Ù„Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ† ÙÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©.',
                details: [
                    { title: 'Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©', value: '100%' },
                    { title: 'Ø´Ø±ÙˆØ· Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…', details: ['Ù…Ø¹Ø¯Ù„ 95% ÙÙ…Ø§ ÙÙˆÙ‚', 'ØªÙ‚Ø¯ÙŠÙ… Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©'] },
                    { title: 'Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª', details: ['ØªØºØ·ÙŠØ© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„', 'ÙØ±Øµ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø£Ø¨Ø­Ø§Ø«'] }
                ]
            },
            'Ù…Ù†Ø­Ø© Ø§Ù„Ø£Ø³Ø± Ø§Ù„Ù…ØªØ¹ÙÙØ©': {
                description: 'ØªÙÙ…Ù†Ø­ Ù„Ù„Ø·Ù„Ø§Ø¨ Ù…Ù† Ø§Ù„Ø£Ø³Ø± Ø°Ø§Øª Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ù…Ø­Ø¯ÙˆØ¯ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙ‡Ù… Ø¹Ù„Ù‰ Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¯Ø±Ø§Ø³ØªÙ‡Ù….',
                details: [
                    { title: 'Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©', value: '50-75%' },
                    { title: 'Ø´Ø±ÙˆØ· Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…', details: ['Ø¥Ø«Ø¨Ø§Øª Ø¯Ø®Ù„ Ø§Ù„Ø£Ø³Ø±Ø©', 'Ø¯Ø±Ø§Ø³Ø© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ù„Ù„Ø­Ø§Ù„Ø©'] },
                    { title: 'Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª', details: ['ØªØ®ÙÙŠØ¶ ÙƒØ¨ÙŠØ± Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³ÙˆÙ…', 'Ø¯Ø¹Ù… Ù…Ø§Ø¯ÙŠ Ø¥Ø¶Ø§ÙÙŠ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø§Ù„Ø§Øª'] }
                ]
            },
            'Ù…Ù†Ø­Ø© Ø£Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´Ù‡Ø¯Ø§Ø¡': {
                description: 'ØªÙƒØ±ÙŠÙ…Ø§Ù‹ Ù„ØªØ¶Ø­ÙŠØ§Øª Ø£Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙˆØ·Ù†ØŒ ØªÙÙ‚Ø¯Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø­Ø©.',
                details: [
                    { title: 'Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©', value: '100%' },
                    { title: 'Ø´Ø±ÙˆØ· Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…', details: ['ØªÙ‚Ø¯ÙŠÙ… Ù…Ø§ ÙŠØ«Ø¨Øª ÙˆØ¶Ø¹ Ø§Ù„Ø·Ø§Ù„Ø¨', 'Ø¥Ø±ÙØ§Ù‚ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„ÙˆÙØ§Ø©'] },
                    { title: 'Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª', details: ['ØªØºØ·ÙŠØ© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„', 'Ø£ÙˆÙ„ÙˆÙŠØ© ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬'] }
                ]
            }
        };

        const exchangeData = {
            'Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø§Ù„Ù…Ø§Ù„ÙŠØ²ÙŠØ©': {
                description: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ ØªØ¨Ø§Ø¯Ù„ Ø«Ù‚Ø§ÙÙŠ ÙˆØ£ÙƒØ§Ø¯ÙŠÙ…ÙŠ Ù„ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ù…Ø¹ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª Ø§Ù„Ø¢Ø³ÙŠÙˆÙŠØ©.',
                details: [
                    { title: 'Ù…Ø¯Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬', value: 'ÙØµÙ„ Ø¯Ø±Ø§Ø³ÙŠ ÙˆØ§Ø­Ø¯' },
                    { title: 'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹', details: ['Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø­Ø«ÙŠ Ù…Ø´ØªØ±Ùƒ', 'Ù…Ø´Ø±ÙˆØ¹ Ø«Ù‚Ø§ÙÙŠ'] }
                ]
            },
            'Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠØ©': {
                description: 'ÙØ±ØµØ© ÙØ±ÙŠØ¯Ø© Ù„Ù„Ø·Ù„Ø§Ø¨ Ù„Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ ÙˆØ§Ù„Ø§Ù†Ø¯Ù…Ø§Ø¬ ÙÙŠ Ø¨ÙŠØ¦Ø© Ø¯ÙˆÙ„ÙŠØ©.',
                details: [
                    { title: 'Ù…Ø¯Ø© Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬', value: 'Ø³Ù†Ø© Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© ÙƒØ§Ù…Ù„Ø©' },
                    { title: 'Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹', details: ['Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ù…Ø¤ØªÙ…Ø±Ø§Øª Ø¯ÙˆÙ„ÙŠØ©', 'ØªØ¯Ø±ÙŠØ¨ Ø¹Ù…Ù„ÙŠ ÙÙŠ Ø´Ø±ÙƒØ§Øª Ø£ÙˆØ±ÙˆØ¨ÙŠØ©'] }
                ]
            }
        };

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù„Ø¹Ø¨Ø©
        function saveGame() {
            localStorage.setItem('gameData', JSON.stringify(gameData));
        }

        function loadGame() {
            const savedData = localStorage.getItem('gameData');
            if (savedData) {
                Object.assign(gameData, JSON.parse(savedData));
                playerNameInput.value = gameData.playerName;
                playerNameDisplay.textContent = gameData.playerName;
                playerScoreDisplay.textContent = gameData.playerScore;
                updateProgressBar();
                showScreen('main-game');
                nextScene('map-scene');
            } else {
                showScreen('landing-screen');
            }
        }

        function showScreen(screenId) {
            for (const key in scenes) {
                if (scenes.hasOwnProperty(key)) {
                    scenes[key].classList.add('hidden');
                }
            }
            scenes[screenId].classList.remove('hidden');
        }

        function showStartScreen() {
            showScreen('start-screen');
            // ØªØ£ÙƒØ¯ Ù…Ù† ØªØ´ØºÙŠÙ„ Ø£ÙŠ ØµÙˆØª Ø¹Ù†Ø¯ Ø£ÙˆÙ„ ØªÙØ§Ø¹Ù„
            try {
                clickSound.play();
                clickSound.pause();
                clickSound.currentTime = 0;
            } catch (e) {
                console.log('Audio playback prevented by browser.');
            }
        }

        function startGame() {
            gameData.playerName = playerNameInput.value;
            if (gameData.playerName.trim() === '') {
                return;
            }
            gameData.playerScore = 0;
            gameData.progress = 0;
            gameData.currentQuizQuestion = 0;
            saveGame();
            playerNameDisplay.textContent = gameData.playerName;
            playerScoreDisplay.textContent = gameData.playerScore;
            updateProgressBar();
            showScreen('main-game');
            nextScene('map-scene');
        }

        function nextScene(sceneId) {
            clickSound.play().catch(e => console.log('Click sound failed to play:', e));
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            if (sceneId !== 'end-scene') {
                updateProgress(10);
            }

            // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ø±ÙŠØ·Ø© Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ù‹Ø§
            const backBtn = document.getElementById('back-to-map-btn');
            if (backBtn) {
                backBtn.classList.add('hidden');
            }

            // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø´Ù‡Ø¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            for (const key in scenes) {
                if (key !== 'main-game' && key !== 'player-stats') {
                    scenes[key].classList.add('hidden');
                }
            }
            scenes[sceneId].classList.remove('hidden');

            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø´Ù‡Ø¯ Ù‡Ùˆ "Ø´Ø±ÙˆØ· Ø§Ù„Ù‚Ø¨ÙˆÙ„" (admission-scene)
            if (sceneId === 'admission-scene') {
                renderQuizQuestion();
            }
        }
        
        function updateProgressBar() {
            const totalStages = 8; // Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ÙƒÙ„ÙŠØ©
            const completedStages = gameData.progress / 10;
            const percentage = (completedStages / totalStages) * 100;
            
            progressBar.style.width = percentage + '%';
            progressText.textContent = `${Math.round(percentage)}%`;

            // Ø¥Ø°Ø§ ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„
            if (completedStages >= totalStages) {
                endGame();
            }
        }

        function updateProgress(value) {
            gameData.progress += value;
            saveGame();
            updateProgressBar();
        }

        function showFeedback(message, type) {
            modalTitle.textContent = type === 'correct' ? 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!' : (type === 'incorrect' ? 'Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©!' : 'ØªÙ†Ø¨ÙŠÙ‡');
            modalText.textContent = message;
            feedbackModal.classList.remove('hidden');
        }

        function closeModal() {
            feedbackModal.classList.add('hidden');
        }

        function resetGame() {
            localStorage.clear();
            gameData.playerName = '';
            gameData.playerScore = 0;
            gameData.progress = 0;
            gameData.currentQuizQuestion = 0;
            showScreen('landing-screen');
            playerNameInput.value = '';
            startButton.disabled = true;
        }

        function logout() {
            resetGame();
        }

        function endGame() {
            document.getElementById('final-player-name').textContent = gameData.playerName;
            document.getElementById('final-player-score').textContent = gameData.playerScore;
            showScreen('end-scene');
            localStorage.clear();
        }

        function renderQuizQuestion() {
            quizContainer.innerHTML = '';
            const backBtn = document.getElementById('back-to-map-btn');
            backBtn.classList.add('hidden');
            
            if (gameData.currentQuizQuestion < quizQuestions.length) {
                const q = quizQuestions[gameData.currentQuizQuestion];
                const questionElement = document.createElement('div');
                questionElement.className = 'quiz-question';
                questionElement.innerHTML = `<p>${q.question}</p>`;
                
                const optionsContainer = document.createElement('div');
                optionsContainer.className = 'options-container';
                
                q.options.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.className = 'option-btn';
                    button.onclick = () => checkQuizAnswer(option, q.correctAnswer, q.points);
                    optionsContainer.appendChild(button);
                });
                
                questionElement.appendChild(optionsContainer);
                quizContainer.appendChild(questionElement);
            } else {
                quizContainer.innerHTML = '<p>Ù„Ù‚Ø¯ Ø£Ù†Ù‡ÙŠØª Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹ÙˆØ¯Ø© Ø§Ù„Ø¢Ù† Ù„Ù„Ø®Ø±ÙŠØ·Ø©!</p>';
                backBtn.classList.remove('hidden');
            }
        }

        function checkQuizAnswer(selectedOption, correctAnswer, points) {
            const isCorrect = (selectedOption === correctAnswer);
            const feedbackMsg = isCorrect ? `Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ù„Ù‚Ø¯ Ø±Ø¨Ø­Øª ${points} Ù†Ù‚Ø·Ø©.` : `Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.`;

            if (isCorrect) {
                gameData.playerScore += points;
                playerScoreDisplay.textContent = gameData.playerScore;
                correctSound.play().catch(e => console.log('Correct sound failed to play:', e));
            } else {
                incorrectSound.play().catch(e => console.log('Incorrect sound failed to play:', e));
            }
            
            showFeedback(feedbackMsg, isCorrect ? 'correct' : 'incorrect');

            if (isCorrect) {
                gameData.currentQuizQuestion++;
            }
            saveGame();
            renderQuizQuestion();
        }

        function showFacultyInfo(facultyName) {
            nextScene('faculties-info-scene');
            const data = facultyData[facultyName];
            document.getElementById('faculty-info-title').textContent = facultyName;
            document.getElementById('faculty-info-desc').textContent = data.description;
            
            const majorsContainer = document.getElementById('faculty-majors-container');
            majorsContainer.innerHTML = '';
            data.majors.forEach(major => {
                const card = document.createElement('div');
                card.className = 'college-card';
                card.innerHTML = `<span class="college-icon">${major.icon}</span><h3>${major.name}</h3>`;
                majorsContainer.appendChild(card);
            });
        }

        function showGrantInfo(grantName) {
            nextScene('grants-info-scene');
            const data = grantData[grantName];
            document.getElementById('grant-info-title').textContent = grantName;
            document.getElementById('grant-info-desc').textContent = data.description;

            const detailsContainer = document.getElementById('grant-details-container');
            detailsContainer.innerHTML = '';
            data.details.forEach(detail => {
                const card = document.createElement('div');
                card.className = 'grant-card';
                let detailsHTML = '';
                if (Array.isArray(detail.details)) {
                    detailsHTML = `<ul>${detail.details.map(item => `<li>${item}</li>`).join('')}</ul>`;
                } else if (detail.value) {
                    detailsHTML = `<div class="grant-percentage">${detail.value}</div>`;
                }
                card.innerHTML = `<h3>${detail.title}</h3>${detailsHTML}`;
                detailsContainer.appendChild(card);
            });
        }

        function showExchangeInfo(exchangeName) {
            nextScene('exchange-info-scene');
            const data = exchangeData[exchangeName];
            document.getElementById('exchange-info-title').textContent = exchangeName;
            document.getElementById('exchange-info-desc').textContent = data.description;

            const detailsContainer = document.getElementById('exchange-details-container');
            detailsContainer.innerHTML = '';
            data.details.forEach(detail => {
                const card = document.createElement('div');
                card.className = 'exchange-card';
                let detailsHTML = '';
                if (Array.isArray(detail.details)) {
                    detailsHTML = `<ul>${detail.details.map(item => `<li>${item}</li>`).join('')}</ul>`;
                } else if (detail.value) {
                    detailsHTML = `<p>${detail.value}</p>`;
                }
                card.innerHTML = `<h3>${detail.title}</h3>${detailsHTML}`;
                detailsContainer.appendChild(card);
            });
        }

        playerNameInput.addEventListener('input', () => {
            startButton.disabled = playerNameInput.value.trim() === '';
        });

        startButton.addEventListener('click', startGame);

        window.onload = loadGame;
    </script>
</body>
</html>
